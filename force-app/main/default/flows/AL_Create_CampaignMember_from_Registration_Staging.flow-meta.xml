<?xml version="1.0" encoding="UTF-8"?>
<Flow xmlns="http://soap.sforce.com/2006/04/metadata">
    <apiVersion>62.0</apiVersion>
    <assignments>
        <name>Assign_Account_to_CampaignMember</name>
        <label>Assign Account to CampaignMember</label>
        <locationX>578</locationX>
        <locationY>1646</locationY>
        <assignmentItems>
            <assignToReference>CampaignMember.Account__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>AccountId</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>CampaignMember.ContactId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>ContactId</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>RecipientId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>ContactId</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <isGoTo>true</isGoTo>
            <targetReference>Assign_Ticket_Information_to_New_Campaign_Member</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_Account_to_Reg_Staging</name>
        <label>Assign Account to Reg. Staging</label>
        <locationX>314</locationX>
        <locationY>1322</locationY>
        <assignmentItems>
            <assignToReference>RegistrationStaging.Account__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>AccountId</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Get_Campaign_Member_From_Account</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_Campaign_Member_from_Account_to_Variable</name>
        <label>Assign Campaign Member from Account to Variable</label>
        <locationX>50</locationX>
        <locationY>1646</locationY>
        <assignmentItems>
            <assignToReference>CampaignMember</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_Campaign_Member_From_Account</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>RecipientId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_Campaign_Member_From_Account.LeadOrContactId</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Update_Existing_Campaign_Member</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_Campaign_Member_from_Lead_to_Variable</name>
        <label>Assign Campaign Member from Lead to Variable</label>
        <locationX>1106</locationX>
        <locationY>1646</locationY>
        <assignmentItems>
            <assignToReference>CampaignMember</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_Campaign_Member_From_Lead</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>RecipientId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_Campaign_Member_From_Lead.LeadOrContactId</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <isGoTo>true</isGoTo>
            <targetReference>Update_Existing_Campaign_Member</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_Created_Member_to_Registration_Staging</name>
        <label>Assign Created Member to Registration Staging</label>
        <locationX>1502</locationX>
        <locationY>2270</locationY>
        <assignmentItems>
            <assignToReference>RegistrationStaging.Campaign_Member_ID__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>CampaignMember.Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>RegistrationStaging.Processing_Status__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Processed</stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>RegistrationStaging.Outcome__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Created Campaign Member</stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>RegistrationStaging.Lecturer__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_Campaign.Lecturer__c</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Which_Related_Record_Are_We_Updating</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_External_ID_to_Variable</name>
        <label>Assign External ID to Variable</label>
        <locationX>2294</locationX>
        <locationY>242</locationY>
        <assignmentItems>
            <assignToReference>ExternalId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>inputLeadStaging.External_ID__c</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Get_Registration_Staging</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_Found_Reg_Staging_to_Variable</name>
        <label>Assign Found Reg. Staging to Variable</label>
        <locationX>2294</locationX>
        <locationY>458</locationY>
        <assignmentItems>
            <assignToReference>RegistrationStaging</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_Registration_Staging</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Assign_ID_s_to_Variables</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_ID_s_to_Variables</name>
        <label>Assign ID&apos;s to Variables</label>
        <locationX>2294</locationX>
        <locationY>566</locationY>
        <assignmentItems>
            <assignToReference>AccountId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>inputLeadStaging.Account__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>LeadId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>inputLeadStaging.Lead__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>ContactId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>inputLeadStaging.Account__r.PersonContactId</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>LeadStagingId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>inputLeadStaging.Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>CampaignId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>RegistrationStaging.Campaign__c</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Get_Campaign</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_Lead_to_CampaignMember</name>
        <label>Assign Lead to CampaignMember</label>
        <locationX>1502</locationX>
        <locationY>1646</locationY>
        <assignmentItems>
            <assignToReference>CampaignMember.LeadId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>LeadId</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>RecipientId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>LeadId</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Assign_Ticket_Information_to_New_Campaign_Member</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_Lead_to_Reg_Staging</name>
        <label>Assign Lead to Reg. Staging</label>
        <locationX>1304</locationX>
        <locationY>1322</locationY>
        <assignmentItems>
            <assignToReference>RegistrationStaging.Lead__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>LeadId</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Get_Campaign_Member_From_Lead</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_Rebooking_Values_to_Variables</name>
        <label>Assign Rebooking Values to Variables</label>
        <locationX>2030</locationX>
        <locationY>242</locationY>
        <assignmentItems>
            <assignToReference>ExternalId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>inputRegistrationStaging.External_ID__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>LeadId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>inputRegistrationStaging.Lead__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>CampaignId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>inputRegistrationStaging.Campaign__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>RegistrationStaging</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>inputRegistrationStaging</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Set_Is_Sync_in_Progress_to_True</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_Ticket_Information_to_New_Campaign_Member</name>
        <label>Assign Ticket Information to New Campaign Member</label>
        <locationX>1502</locationX>
        <locationY>1754</locationY>
        <assignmentItems>
            <assignToReference>CampaignMember.Tickets_in_order__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>RegistrationStaging.Booked_Tickets__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>CampaignMember.External_ID__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>ExternalId</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>CampaignMember.Latest_Entry_Date__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>RegistrationStaging.Time_of_Booking__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>CampaignMember.CampaignId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>CampaignId</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>CampaignMember.Time_of_booking__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>RegistrationStaging.Time_of_Booking__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>CampaignMember.Marital_Status__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>inputFormSubmission.Marital_Status__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>CampaignMember.Has_Children_Under_18__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>inputFormSubmission.Has_Children_Under_18__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>CampaignMember.Registration_Staging__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>RegistrationStaging.Id</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Is_It_a_Walk_In</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_Updated_Existing_Member_to_Registration_Staging</name>
        <label>Assign Updated Existing Member to Registration Staging</label>
        <locationX>50</locationX>
        <locationY>1970</locationY>
        <assignmentItems>
            <assignToReference>RegistrationStaging.Campaign_Member_ID__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>CampaignMember.Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>RegistrationStaging.Processing_Status__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Processed</stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>RegistrationStaging.Outcome__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Updated Campaign Member</stringValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Which_Related_Record_Are_We_Updating</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Populate_Custom_Error_with_Cannot_Identify_Which_Record_to_Update</name>
        <label>Populate Custom Error with Cannot Identify Which Record to Update</label>
        <locationX>1898</locationX>
        <locationY>2654</locationY>
        <assignmentItems>
            <assignToReference>CustomError</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Cannot Identify Which Record to Update</stringValue>
            </value>
        </assignmentItems>
        <connector>
            <isGoTo>true</isGoTo>
            <targetReference>Send_Error_Email_from_Input_Values</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Populate_Custom_Error_with_Flow_Fault_Message</name>
        <label>Populate Custom Error with Flow Fault Message</label>
        <locationX>2558</locationX>
        <locationY>458</locationY>
        <assignmentItems>
            <assignToReference>CustomError</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Flow.FaultMessage</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Send_Error_Email_from_Input_Values</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Populate_Custom_Error_with_Must_Have_Either_Lead_or_Account</name>
        <label>Populate Custom Error with Must Have Either Lead or Account</label>
        <locationX>2426</locationX>
        <locationY>1322</locationY>
        <assignmentItems>
            <assignToReference>CustomError</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Must Have Either Lead or Account</stringValue>
            </value>
        </assignmentItems>
        <connector>
            <isGoTo>true</isGoTo>
            <targetReference>Send_Error_Email_from_Input_Values</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Populate_Custom_Error_with_Registration_Staging_Not_Found</name>
        <label>Populate Custom Error with Registration Staging Not Found</label>
        <locationX>2954</locationX>
        <locationY>1106</locationY>
        <assignmentItems>
            <assignToReference>CustomError</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Registration Staging Not Found</stringValue>
            </value>
        </assignmentItems>
        <connector>
            <isGoTo>true</isGoTo>
            <targetReference>Send_Error_Email_from_Input_Values</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Populate_Default_Values_on_Reg_Staging</name>
        <label>Populate Default Values on Reg. Staging</label>
        <locationX>1370</locationX>
        <locationY>1106</locationY>
        <assignmentItems>
            <assignToReference>RegistrationStaging.Lead_Staging__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>LeadStagingId</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>RegistrationStaging.Event_Start__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_Campaign.Start__c</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Does_Lead_Staging_Have_a_Lead_or_an_Account</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_EventModestatus_Variable_to_Booked</name>
        <label>Set EventModestatus Variable to Booked</label>
        <locationX>1634</locationX>
        <locationY>1970</locationY>
        <assignmentItems>
            <assignToReference>EventMoedestatus</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Booked</stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>CampaignMember.Event_m_destatus__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Booked</stringValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Create_Campaign_Member</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_Is_Sync_in_Progress_to_True</name>
        <label>Set Is Sync in Progress to True</label>
        <locationX>2030</locationX>
        <locationY>350</locationY>
        <assignmentItems>
            <assignToReference>RegistrationStaging.Is_Sync_in_Progress__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Get_Campaign</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_Walk_In_Values</name>
        <label>Set Walk-In Values</label>
        <locationX>1370</locationX>
        <locationY>1970</locationY>
        <assignmentItems>
            <assignToReference>CampaignMember.Walk_In_Attendee__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>CampaignMember.Event_m_destatus__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Show</stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>CampaignMember.Scanned_at_entry__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>EventMoedestatus</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Show</stringValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Create_Campaign_Member</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Update_Existing_Campaign_Member</name>
        <label>Update Existing Campaign Member</label>
        <locationX>50</locationX>
        <locationY>1754</locationY>
        <assignmentItems>
            <assignToReference>CampaignMember.Tickets_in_order__c</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>RegistrationStaging.Booked_Tickets__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>CampaignMember.Latest_Entry_Date__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>RegistrationStaging.Time_of_Booking__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>CampaignMember.External_ID__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>ExternalId</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Update_Campaign_Member</targetReference>
        </connector>
    </assignments>
    <decisions>
        <name>Does_Lead_Staging_Have_a_Lead_or_an_Account</name>
        <label>Does Lead Staging Have a Lead or an Account?</label>
        <locationX>1370</locationX>
        <locationY>1214</locationY>
        <defaultConnector>
            <targetReference>Populate_Custom_Error_with_Must_Have_Either_Lead_or_Account</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Has_Account</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>AccountId</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Assign_Account_to_Reg_Staging</targetReference>
            </connector>
            <label>Has Account</label>
        </rules>
        <rules>
            <name>Has_Lead</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>LeadId</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Assign_Lead_to_Reg_Staging</targetReference>
            </connector>
            <label>Has Lead</label>
        </rules>
    </decisions>
    <decisions>
        <name>Is_it_a_Rebooking</name>
        <label>Is it a Rebooking?</label>
        <locationX>2162</locationX>
        <locationY>134</locationY>
        <defaultConnector>
            <targetReference>Assign_External_ID_to_Variable</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Not Rebooking</defaultConnectorLabel>
        <rules>
            <name>Is_Rebooking</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>IsRebooking</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Assign_Rebooking_Values_to_Variables</targetReference>
            </connector>
            <label>Is Rebooking</label>
        </rules>
    </decisions>
    <decisions>
        <name>Is_It_a_Walk_In</name>
        <label>Is It a Walk-In?</label>
        <locationX>1502</locationX>
        <locationY>1862</locationY>
        <defaultConnector>
            <targetReference>Set_EventModestatus_Variable_to_Booked</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Is_Walk_In</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>RegistrationStaging.Is_Walk_In__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Set_Walk_In_Values</targetReference>
            </connector>
            <label>Is Walk-In</label>
        </rules>
    </decisions>
    <decisions>
        <name>Is_Registration_a_Walk_In</name>
        <label>Is Registration a Walk-In?</label>
        <locationX>1370</locationX>
        <locationY>2912</locationY>
        <defaultConnector>
            <targetReference>Send_Booking_Confirmation_to_Lecture_Attendee</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Reg_is_Walk_In</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>RegistrationStaging.Is_Walk_In__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Update_Registration_Staging</targetReference>
            </connector>
            <label>Reg. is Walk-In</label>
        </rules>
    </decisions>
    <decisions>
        <name>Was_Campaign_Member_Found_via_Account</name>
        <label>Was Campaign Member Found via Account?</label>
        <locationX>314</locationX>
        <locationY>1538</locationY>
        <defaultConnector>
            <targetReference>Assign_Account_to_CampaignMember</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Campaign_Member_via_Account_Exists</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_Campaign_Member_From_Account</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Assign_Campaign_Member_from_Account_to_Variable</targetReference>
            </connector>
            <label>Campaign Member via Account Exists</label>
        </rules>
    </decisions>
    <decisions>
        <name>Was_Campaign_Member_Found_via_Lead</name>
        <label>Was Campaign Member Found via Lead?</label>
        <locationX>1304</locationX>
        <locationY>1538</locationY>
        <defaultConnector>
            <targetReference>Assign_Lead_to_CampaignMember</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Campaign_Member_via_Lead_Exists</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_Campaign_Member_From_Lead</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Assign_Campaign_Member_from_Lead_to_Variable</targetReference>
            </connector>
            <label>Campaign Member via Lead Exists</label>
        </rules>
    </decisions>
    <decisions>
        <name>Was_Registration_Staging_Found</name>
        <label>Was Registration Staging Found?</label>
        <locationX>2162</locationX>
        <locationY>998</locationY>
        <defaultConnector>
            <targetReference>Populate_Custom_Error_with_Registration_Staging_Not_Found</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Reg_Staging_Exists</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>RegistrationStaging</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Populate_Default_Values_on_Reg_Staging</targetReference>
            </connector>
            <label>Reg. Staging Exists</label>
        </rules>
    </decisions>
    <decisions>
        <name>Which_Related_Record_Are_We_Updating</name>
        <label>Which Related Record Are We Updating?</label>
        <locationX>1370</locationX>
        <locationY>2546</locationY>
        <defaultConnector>
            <targetReference>Populate_Custom_Error_with_Cannot_Identify_Which_Record_to_Update</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Update_the_Account</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Has_Account</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>AccountId</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Update_Account</targetReference>
            </connector>
            <label>Update the Account</label>
        </rules>
        <rules>
            <name>Update_the_Lead</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Has_Lead</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>LeadId</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Update_Lead</targetReference>
            </connector>
            <label>Update the Lead</label>
        </rules>
    </decisions>
    <description>Updated to set &quot;Booked&quot; if it is a booking. but &quot;Show&quot; if its a walk-in (Booked is a newly added value to the Event MÃ¸destatus fields on Lead, Account and Campaign Member</description>
    <environments>Default</environments>
    <interviewLabel>AL - Create CampaignMember from Registration Staging {!$Flow.CurrentDateTime}</interviewLabel>
    <label>AL - Create CampaignMember from Registration Staging</label>
    <processMetadataValues>
        <name>BuilderType</name>
        <value>
            <stringValue>LightningFlowBuilder</stringValue>
        </value>
    </processMetadataValues>
    <processMetadataValues>
        <name>CanvasMode</name>
        <value>
            <stringValue>AUTO_LAYOUT_CANVAS</stringValue>
        </value>
    </processMetadataValues>
    <processMetadataValues>
        <name>OriginBuilderType</name>
        <value>
            <stringValue>LightningFlowBuilder</stringValue>
        </value>
    </processMetadataValues>
    <processType>AutoLaunchedFlow</processType>
    <recordCreates>
        <name>Create_Campaign_Member</name>
        <label>Create Campaign Member</label>
        <locationX>1502</locationX>
        <locationY>2162</locationY>
        <connector>
            <targetReference>Assign_Created_Member_to_Registration_Staging</targetReference>
        </connector>
        <faultConnector>
            <isGoTo>true</isGoTo>
            <targetReference>Populate_Custom_Error_with_Flow_Fault_Message</targetReference>
        </faultConnector>
        <inputReference>CampaignMember</inputReference>
    </recordCreates>
    <recordLookups>
        <name>Get_Campaign</name>
        <label>Get Campaign</label>
        <locationX>2162</locationX>
        <locationY>890</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Was_Registration_Staging_Found</targetReference>
        </connector>
        <faultConnector>
            <isGoTo>true</isGoTo>
            <targetReference>Populate_Custom_Error_with_Flow_Fault_Message</targetReference>
        </faultConnector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>CampaignId</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>Campaign</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_Campaign_Member_From_Account</name>
        <label>Get Campaign Member (From Account)</label>
        <locationX>314</locationX>
        <locationY>1430</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Was_Campaign_Member_Found_via_Account</targetReference>
        </connector>
        <faultConnector>
            <isGoTo>true</isGoTo>
            <targetReference>Populate_Custom_Error_with_Flow_Fault_Message</targetReference>
        </faultConnector>
        <filterLogic>(1 OR 2 OR 3) AND 4</filterLogic>
        <filters>
            <field>ContactId</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>ContactId</elementReference>
            </value>
        </filters>
        <filters>
            <field>Account__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>AccountId</elementReference>
            </value>
        </filters>
        <filters>
            <field>AccountId</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>AccountId</elementReference>
            </value>
        </filters>
        <filters>
            <field>CampaignId</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>CampaignId</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>CampaignMember</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_Campaign_Member_From_Lead</name>
        <label>Get Campaign Member (From Lead)</label>
        <locationX>1304</locationX>
        <locationY>1430</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Was_Campaign_Member_Found_via_Lead</targetReference>
        </connector>
        <faultConnector>
            <isGoTo>true</isGoTo>
            <targetReference>Populate_Custom_Error_with_Flow_Fault_Message</targetReference>
        </faultConnector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>LeadId</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>LeadId</elementReference>
            </value>
        </filters>
        <filters>
            <field>CampaignId</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>CampaignId</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>CampaignMember</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_Registration_Staging</name>
        <label>Get Registration Staging</label>
        <locationX>2294</locationX>
        <locationY>350</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Assign_Found_Reg_Staging_to_Variable</targetReference>
        </connector>
        <faultConnector>
            <targetReference>Populate_Custom_Error_with_Flow_Fault_Message</targetReference>
        </faultConnector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>External_ID__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>ExternalId</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>Registration_Staging__c</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordUpdates>
        <name>Update_Account</name>
        <label>Update Account</label>
        <locationX>842</locationX>
        <locationY>2654</locationY>
        <connector>
            <targetReference>Is_Registration_a_Walk_In</targetReference>
        </connector>
        <faultConnector>
            <isGoTo>true</isGoTo>
            <targetReference>Populate_Custom_Error_with_Flow_Fault_Message</targetReference>
        </faultConnector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>AccountId</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>Event_m_destatus__pc</field>
            <value>
                <elementReference>EventMoedestatus</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Foredragstid_og_dato__c</field>
            <value>
                <elementReference>Get_Campaign.Start__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Tickets_in_order__c</field>
            <value>
                <elementReference>RegistrationStaging.Booked_Tickets__c</elementReference>
            </value>
        </inputAssignments>
        <object>Account</object>
    </recordUpdates>
    <recordUpdates>
        <name>Update_Campaign_Member</name>
        <label>Update Campaign Member</label>
        <locationX>50</locationX>
        <locationY>1862</locationY>
        <connector>
            <targetReference>Assign_Updated_Existing_Member_to_Registration_Staging</targetReference>
        </connector>
        <faultConnector>
            <isGoTo>true</isGoTo>
            <targetReference>Populate_Custom_Error_with_Flow_Fault_Message</targetReference>
        </faultConnector>
        <inputReference>CampaignMember</inputReference>
    </recordUpdates>
    <recordUpdates>
        <name>Update_Lead</name>
        <label>Update Lead</label>
        <locationX>1370</locationX>
        <locationY>2654</locationY>
        <connector>
            <targetReference>Is_Registration_a_Walk_In</targetReference>
        </connector>
        <faultConnector>
            <isGoTo>true</isGoTo>
            <targetReference>Populate_Custom_Error_with_Flow_Fault_Message</targetReference>
        </faultConnector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>LeadId</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>Event_moedestatus_c__c</field>
            <value>
                <elementReference>EventMoedestatus</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Foredragstid_og_dato__c</field>
            <value>
                <elementReference>Get_Campaign.Start__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Lecture_Campaign__c</field>
            <value>
                <elementReference>Get_Campaign.Id</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Lecturer__c</field>
            <value>
                <elementReference>Get_Campaign.Lecturer__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Tickets_in_order__c</field>
            <value>
                <elementReference>RegistrationStaging.Booked_Tickets__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Venue__c</field>
            <value>
                <elementReference>Get_Campaign.Venue__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Walk_In_Attendee__c</field>
            <value>
                <elementReference>RegistrationStaging.Is_Walk_In__c</elementReference>
            </value>
        </inputAssignments>
        <object>Lead</object>
    </recordUpdates>
    <recordUpdates>
        <name>Update_Registration_Staging</name>
        <label>Update Registration Staging</label>
        <locationX>1370</locationX>
        <locationY>3212</locationY>
        <faultConnector>
            <isGoTo>true</isGoTo>
            <targetReference>Populate_Custom_Error_with_Flow_Fault_Message</targetReference>
        </faultConnector>
        <inputReference>RegistrationStaging</inputReference>
    </recordUpdates>
    <runInMode>SystemModeWithoutSharing</runInMode>
    <start>
        <locationX>2036</locationX>
        <locationY>0</locationY>
        <connector>
            <targetReference>Is_it_a_Rebooking</targetReference>
        </connector>
    </start>
    <status>Active</status>
    <subflows>
        <name>Send_Booking_Confirmation_to_Lecture_Attendee</name>
        <label>Send Booking Confirmation to Lecture Attendee</label>
        <locationX>1458</locationX>
        <locationY>3020</locationY>
        <connector>
            <targetReference>Update_Registration_Staging</targetReference>
        </connector>
        <flowName>AL_Send_Booking_Confirmation_to_Lecture_Attendee</flowName>
        <inputAssignments>
            <name>inputRegistrationStaging</name>
            <value>
                <elementReference>RegistrationStaging</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>RecipientId</name>
            <value>
                <elementReference>RecipientId</elementReference>
            </value>
        </inputAssignments>
    </subflows>
    <subflows>
        <name>Send_Error_Email_from_Input_Values</name>
        <label>Send Error Email from Input Values</label>
        <locationX>2558</locationX>
        <locationY>566</locationY>
        <flowName>AL_Send_Error_Email_from_Input_Values</flowName>
        <inputAssignments>
            <name>inputCustomError</name>
            <value>
                <elementReference>CustomError</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>inputFlowName</name>
            <value>
                <stringValue>AL - Create CampaignMember from Registration Staging</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>inputRecordId</name>
            <value>
                <elementReference>inputLeadStaging.Id</elementReference>
            </value>
        </inputAssignments>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </subflows>
    <variables>
        <name>AccountId</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>CampaignId</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>CampaignMember</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>CampaignMember</objectType>
    </variables>
    <variables>
        <name>ContactId</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>CustomError</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>true</isOutput>
    </variables>
    <variables>
        <name>EventMoedestatus</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>ExternalId</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>inputFormSubmission</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>false</isOutput>
        <objectType>Form_Submission__c</objectType>
    </variables>
    <variables>
        <name>inputLeadStaging</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>false</isOutput>
        <objectType>Lead_Staging_Record__c</objectType>
    </variables>
    <variables>
        <name>inputRegistrationStaging</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>false</isOutput>
        <objectType>Registration_Staging__c</objectType>
    </variables>
    <variables>
        <name>IsRebooking</name>
        <dataType>Boolean</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>false</isOutput>
        <value>
            <booleanValue>false</booleanValue>
        </value>
    </variables>
    <variables>
        <name>LeadId</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>LeadStagingId</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>outputLectureDateTime</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>true</isOutput>
    </variables>
    <variables>
        <name>RecipientId</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>RegistrationStaging</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>Registration_Staging__c</objectType>
    </variables>
</Flow>
