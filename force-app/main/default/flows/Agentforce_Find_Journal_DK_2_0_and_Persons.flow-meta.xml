<?xml version="1.0" encoding="UTF-8"?>
<Flow xmlns="http://soap.sforce.com/2006/04/metadata">
    <apiVersion>62.0</apiVersion>
    <assignments>
        <name>Assign_Persons_to_Output_Variables</name>
        <label>Assign Persons to Output Variables</label>
        <locationX>176</locationX>
        <locationY>1214</locationY>
        <assignmentItems>
            <assignToReference>Children</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Filter_for_Children</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>ChildrenOfPerson1</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Filter_for_Children_of_Person_1</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>ChildrenOfPerson2</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Filter_for_Children_of_Person_2</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>Person1</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Filter_for_Person_1</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>Person2</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Filter_for_Person_2</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>ChildrenOfBoth</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Filter_for_Children_of_Both</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>OtherPeople</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Filter_for_Other_People</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>ChildrenOfSingle</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Filter_for_Children_of_Single</elementReference>
            </value>
        </assignmentItems>
    </assignments>
    <collectionProcessors>
        <name>Filter_for_Children</name>
        <elementSubtype>FilterCollectionProcessor</elementSubtype>
        <label>Filter for Children</label>
        <locationX>176</locationX>
        <locationY>566</locationY>
        <assignNextValueToReference>currentItem_Copy_4_of_Filter_for_Person_2</assignNextValueToReference>
        <collectionProcessorType>FilterCollectionProcessor</collectionProcessorType>
        <collectionReference>Persons</collectionReference>
        <conditionLogic>and</conditionLogic>
        <conditions>
            <leftValueReference>currentItem_Copy_4_of_Filter_for_Person_2.person_hf_barn__c</leftValueReference>
            <operator>EqualTo</operator>
            <rightValue>
                <booleanValue>true</booleanValue>
            </rightValue>
        </conditions>
        <connector>
            <targetReference>Filter_for_Children_of_Person_1</targetReference>
        </connector>
    </collectionProcessors>
    <collectionProcessors>
        <name>Filter_for_Children_of_Both</name>
        <elementSubtype>FilterCollectionProcessor</elementSubtype>
        <label>Filter for Children of Both</label>
        <locationX>176</locationX>
        <locationY>890</locationY>
        <assignNextValueToReference>currentItem_Copy_4_of_Filter_for_Person_2</assignNextValueToReference>
        <collectionProcessorType>FilterCollectionProcessor</collectionProcessorType>
        <collectionReference>Persons</collectionReference>
        <conditionLogic>and</conditionLogic>
        <conditions>
            <leftValueReference>currentItem_Copy_4_of_Filter_for_Person_2.person_hidden_barn_flles__c</leftValueReference>
            <operator>EqualTo</operator>
            <rightValue>
                <booleanValue>true</booleanValue>
            </rightValue>
        </conditions>
        <connector>
            <targetReference>Filter_for_Other_People</targetReference>
        </connector>
    </collectionProcessors>
    <collectionProcessors>
        <name>Filter_for_Children_of_Person_1</name>
        <elementSubtype>FilterCollectionProcessor</elementSubtype>
        <label>Filter for Children of Person 1</label>
        <locationX>176</locationX>
        <locationY>674</locationY>
        <assignNextValueToReference>currentItem_Copy_4_of_Filter_for_Person_2</assignNextValueToReference>
        <collectionProcessorType>FilterCollectionProcessor</collectionProcessorType>
        <collectionReference>Persons</collectionReference>
        <conditionLogic>and</conditionLogic>
        <conditions>
            <leftValueReference>currentItem_Copy_4_of_Filter_for_Person_2.person_hidden_barn_p1__c</leftValueReference>
            <operator>EqualTo</operator>
            <rightValue>
                <booleanValue>true</booleanValue>
            </rightValue>
        </conditions>
        <connector>
            <targetReference>Filter_for_Children_of_Person_2</targetReference>
        </connector>
    </collectionProcessors>
    <collectionProcessors>
        <name>Filter_for_Children_of_Person_2</name>
        <elementSubtype>FilterCollectionProcessor</elementSubtype>
        <label>Filter for Children of Person 2</label>
        <locationX>176</locationX>
        <locationY>782</locationY>
        <assignNextValueToReference>currentItem_Copy_4_of_Filter_for_Person_2</assignNextValueToReference>
        <collectionProcessorType>FilterCollectionProcessor</collectionProcessorType>
        <collectionReference>Persons</collectionReference>
        <conditionLogic>and</conditionLogic>
        <conditions>
            <leftValueReference>currentItem_Copy_4_of_Filter_for_Person_2.person_hidden_barn_p2__c</leftValueReference>
            <operator>EqualTo</operator>
            <rightValue>
                <booleanValue>true</booleanValue>
            </rightValue>
        </conditions>
        <connector>
            <targetReference>Filter_for_Children_of_Both</targetReference>
        </connector>
    </collectionProcessors>
    <collectionProcessors>
        <name>Filter_for_Children_of_Single</name>
        <elementSubtype>FilterCollectionProcessor</elementSubtype>
        <label>Filter for Children of Single</label>
        <locationX>176</locationX>
        <locationY>1106</locationY>
        <assignNextValueToReference>currentItem_Copy_4_of_Filter_for_Person_2</assignNextValueToReference>
        <collectionProcessorType>FilterCollectionProcessor</collectionProcessorType>
        <collectionReference>Persons</collectionReference>
        <conditionLogic>and</conditionLogic>
        <conditions>
            <leftValueReference>currentItem_Copy_4_of_Filter_for_Person_2.person_hidden_barn_single__c</leftValueReference>
            <operator>EqualTo</operator>
            <rightValue>
                <booleanValue>true</booleanValue>
            </rightValue>
        </conditions>
        <connector>
            <targetReference>Assign_Persons_to_Output_Variables</targetReference>
        </connector>
    </collectionProcessors>
    <collectionProcessors>
        <name>Filter_for_Other_People</name>
        <elementSubtype>FilterCollectionProcessor</elementSubtype>
        <label>Filter for Other People</label>
        <locationX>176</locationX>
        <locationY>998</locationY>
        <assignNextValueToReference>currentItem_Copy_4_of_Filter_for_Person_2</assignNextValueToReference>
        <collectionProcessorType>FilterCollectionProcessor</collectionProcessorType>
        <collectionReference>Persons</collectionReference>
        <conditionLogic>and</conditionLogic>
        <conditions>
            <leftValueReference>currentItem_Copy_4_of_Filter_for_Person_2.person_hidden_anden_type_person__c</leftValueReference>
            <operator>EqualTo</operator>
            <rightValue>
                <booleanValue>true</booleanValue>
            </rightValue>
        </conditions>
        <connector>
            <targetReference>Filter_for_Children_of_Single</targetReference>
        </connector>
    </collectionProcessors>
    <collectionProcessors>
        <name>Filter_for_Person_1</name>
        <elementSubtype>FilterCollectionProcessor</elementSubtype>
        <label>Filter for Person 1</label>
        <locationX>176</locationX>
        <locationY>350</locationY>
        <assignNextValueToReference>currentItem_Copy_4_of_Filter_for_Person_2</assignNextValueToReference>
        <collectionProcessorType>FilterCollectionProcessor</collectionProcessorType>
        <collectionReference>Persons</collectionReference>
        <conditionLogic>and</conditionLogic>
        <conditions>
            <leftValueReference>currentItem_Copy_4_of_Filter_for_Person_2.person_hidden_person_1__c</leftValueReference>
            <operator>EqualTo</operator>
            <rightValue>
                <booleanValue>true</booleanValue>
            </rightValue>
        </conditions>
        <connector>
            <targetReference>Filter_for_Person_2</targetReference>
        </connector>
    </collectionProcessors>
    <collectionProcessors>
        <name>Filter_for_Person_2</name>
        <elementSubtype>FilterCollectionProcessor</elementSubtype>
        <label>Filter for Person 2</label>
        <locationX>176</locationX>
        <locationY>458</locationY>
        <assignNextValueToReference>currentItem_Copy_4_of_Filter_for_Person_2</assignNextValueToReference>
        <collectionProcessorType>FilterCollectionProcessor</collectionProcessorType>
        <collectionReference>Persons</collectionReference>
        <conditionLogic>and</conditionLogic>
        <conditions>
            <leftValueReference>currentItem_Copy_4_of_Filter_for_Person_2.person_hidden_person_2__c</leftValueReference>
            <operator>EqualTo</operator>
            <rightValue>
                <booleanValue>true</booleanValue>
            </rightValue>
        </conditions>
        <connector>
            <targetReference>Filter_for_Children</targetReference>
        </connector>
    </collectionProcessors>
    <description>Takes an input Account ID and uses it to find a Journal DK 2.0 containing information about a customer&apos;s documents. Additionally, it finds information about all the people noted in the customer&apos;s Journal, including the customer themselves, their children of various types and other people who are noted in the Journal.</description>
    <environments>Default</environments>
    <interviewLabel>Agentforce: Find Journal DK 2.0 and Persons {!$Flow.CurrentDateTime}</interviewLabel>
    <label>Agentforce: Find Journal DK 2.0 and Persons</label>
    <processMetadataValues>
        <name>BuilderType</name>
        <value>
            <stringValue>LightningFlowBuilder</stringValue>
        </value>
    </processMetadataValues>
    <processMetadataValues>
        <name>CanvasMode</name>
        <value>
            <stringValue>AUTO_LAYOUT_CANVAS</stringValue>
        </value>
    </processMetadataValues>
    <processMetadataValues>
        <name>OriginBuilderType</name>
        <value>
            <stringValue>LightningFlowBuilder</stringValue>
        </value>
    </processMetadataValues>
    <processType>AutoLaunchedFlow</processType>
    <recordLookups>
        <name>Get_Journal_DK_2_0</name>
        <label>Get Journal DK 2.0</label>
        <locationX>176</locationX>
        <locationY>134</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Get_Persons</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Account__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>AccountId</elementReference>
            </value>
        </filters>
        <object>df_journal_dk_new__c</object>
        <outputAssignments>
            <assignToReference>JournalDkRecordId</assignToReference>
            <field>Id</field>
        </outputAssignments>
        <outputAssignments>
            <assignToReference>InheritanceDistribution0Kids</assignToReference>
            <field>arveford_0_brn__c</field>
        </outputAssignments>
        <outputAssignments>
            <assignToReference>InheritanceDistribution1OrMoreandFutureKids</assignToReference>
            <field>arveford_1_brn_hensyn__c</field>
        </outputAssignments>
        <outputAssignments>
            <assignToReference>InheritanceDistributionTogetherKids</assignToReference>
            <field>arveford_flere_brn_flles__c</field>
        </outputAssignments>
        <outputAssignments>
            <assignToReference>InheritanceDistributionMixedKids</assignToReference>
            <field>arveford_flere_brn_sammenbr__c</field>
        </outputAssignments>
        <outputAssignments>
            <assignToReference>HasChildren</assignToReference>
            <field>har_du_i_brn__c</field>
        </outputAssignments>
        <outputAssignments>
            <assignToReference>Person1HasSeparateChildren</assignToReference>
            <field>har_person_1_srbrn__c</field>
        </outputAssignments>
        <outputAssignments>
            <assignToReference>Person2HasSeparateChildren</assignToReference>
            <field>har_person_2_srbrn__c</field>
        </outputAssignments>
        <outputAssignments>
            <assignToReference>SingleHasChildren</assignToReference>
            <field>single_har_du_brn__c</field>
        </outputAssignments>
        <outputAssignments>
            <assignToReference>MaritalStatus</assignToReference>
            <field>stamdata_civilstatus__c</field>
        </outputAssignments>
        <outputAssignments>
            <assignToReference>HasChildrenTogether</assignToReference>
            <field>stamdata_flls_brn__c</field>
        </outputAssignments>
        <outputAssignments>
            <assignToReference>FutureKids</assignToReference>
            <field>stamdata_fremt_brn__c</field>
        </outputAssignments>
    </recordLookups>
    <recordLookups>
        <name>Get_Persons</name>
        <label>Get Persons</label>
        <locationX>176</locationX>
        <locationY>242</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Filter_for_Person_1</targetReference>
        </connector>
        <filterLogic>1 AND (2 OR 3)</filterLogic>
        <filters>
            <field>journal_dk_new__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>JournalDkRecordId</elementReference>
            </value>
        </filters>
        <filters>
            <field>person_hidden_person_1__c</field>
            <operator>EqualTo</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </filters>
        <filters>
            <field>person_hidden_person_2__c</field>
            <operator>EqualTo</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </filters>
        <object>df_160_person__c</object>
        <outputReference>Persons</outputReference>
        <queriedFields>Id</queriedFields>
        <queriedFields>person_fornavn__c</queriedFields>
        <queriedFields>person_efternavn__c</queriedFields>
        <queriedFields>person_adresse__c</queriedFields>
        <queriedFields>person_by__c</queriedFields>
        <queriedFields>person_postnummer__c</queriedFields>
        <queriedFields>Birthday__c</queriedFields>
        <queriedFields>person_sidste_4_cpr__c</queriedFields>
        <queriedFields>person_email__c</queriedFields>
        <queriedFields>person_hidden_barn_flles__c</queriedFields>
        <queriedFields>person_hidden_barn_p1__c</queriedFields>
        <queriedFields>person_hidden_barn_p2__c</queriedFields>
        <queriedFields>person_hidden_barn_single__c</queriedFields>
        <queriedFields>person_hidden_anden_type_person__c</queriedFields>
        <queriedFields>person_hidden_person_1__c</queriedFields>
        <queriedFields>person_hidden_person_2__c</queriedFields>
        <queriedFields>person_hf_barn__c</queriedFields>
    </recordLookups>
    <start>
        <locationX>50</locationX>
        <locationY>0</locationY>
        <connector>
            <targetReference>Get_Journal_DK_2_0</targetReference>
        </connector>
    </start>
    <status>Active</status>
    <variables>
        <name>AccountId</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <description>Includes all children</description>
        <name>Children</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>true</isOutput>
        <objectType>df_160_person__c</objectType>
    </variables>
    <variables>
        <description>These are children who&apos;s parents are Person 1 and 2 (not from previous relationships)</description>
        <name>ChildrenOfBoth</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>true</isOutput>
        <objectType>df_160_person__c</objectType>
    </variables>
    <variables>
        <description>Only Person 1&apos;s Children</description>
        <name>ChildrenOfPerson1</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>true</isOutput>
        <objectType>df_160_person__c</objectType>
    </variables>
    <variables>
        <description>Only Person 2&apos;s Children</description>
        <name>ChildrenOfPerson2</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>true</isOutput>
        <objectType>df_160_person__c</objectType>
    </variables>
    <variables>
        <description>If there is no Person 2 and Marital Status indicates that the person is single, these are the children of that single person.</description>
        <name>ChildrenOfSingle</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>true</isOutput>
        <objectType>df_160_person__c</objectType>
    </variables>
    <variables>
        <name>currentItem_Copy_4_of_Filter_for_Person_2</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>df_160_person__c</objectType>
    </variables>
    <variables>
        <description>Inidicates whether they expect to have more children in the future</description>
        <name>FutureKids</name>
        <dataType>Boolean</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>true</isOutput>
    </variables>
    <variables>
        <description>If it is a couple, indicates whether or not they have any children (either together or from previous relationships)</description>
        <name>HasChildren</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>true</isOutput>
    </variables>
    <variables>
        <description>If the two people are married/cohabiting, this indicates whether they have had children together</description>
        <name>HasChildrenTogether</name>
        <dataType>Boolean</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>true</isOutput>
    </variables>
    <variables>
        <description>If there are no kids, this indicates how the inheritance distribution will be</description>
        <name>InheritanceDistribution0Kids</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>true</isOutput>
    </variables>
    <variables>
        <description>If there are kids and they also expect to have more kids, this indicates how the inheritance distribution will be</description>
        <name>InheritanceDistribution1OrMoreandFutureKids</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>true</isOutput>
    </variables>
    <variables>
        <description>If they have kids, including at least one from previous relationships, this indicates how the inheritance distribution will be</description>
        <name>InheritanceDistributionMixedKids</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>true</isOutput>
    </variables>
    <variables>
        <description>If they only have kids together (none from previous relationships), this indicates how the inheritance distribution will be</description>
        <name>InheritanceDistributionTogetherKids</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>true</isOutput>
    </variables>
    <variables>
        <name>JournalDkRecordId</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>true</isOutput>
    </variables>
    <variables>
        <name>MaritalStatus</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>true</isOutput>
    </variables>
    <variables>
        <description>These are people who are not directly related to Person 1 and Person 2. Could be a friend, neighbor, ex-spouse or other.</description>
        <name>OtherPeople</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>true</isOutput>
        <objectType>df_160_person__c</objectType>
    </variables>
    <variables>
        <description>This is the Primary Person we have registered in Salesforce</description>
        <name>Person1</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>true</isOutput>
        <objectType>df_160_person__c</objectType>
    </variables>
    <variables>
        <description>Indicates whether the Person 1 has children from a previous relationship</description>
        <name>Person1HasSeparateChildren</name>
        <dataType>Boolean</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>true</isOutput>
    </variables>
    <variables>
        <name>Person1Last4Digits</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>true</isOutput>
    </variables>
    <variables>
        <name>Person1Name</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>true</isOutput>
    </variables>
    <variables>
        <description>This is Person 1&apos;s Spouse/Partner</description>
        <name>Person2</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>true</isOutput>
        <objectType>df_160_person__c</objectType>
    </variables>
    <variables>
        <description>Indicates whether the Person 2 has children from a previous relationship</description>
        <name>Person2HasSeparateChildren</name>
        <dataType>Boolean</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>true</isOutput>
    </variables>
    <variables>
        <name>Person2Last4Digits</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>true</isOutput>
    </variables>
    <variables>
        <name>Person2Name</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>true</isOutput>
    </variables>
    <variables>
        <name>Persons</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>true</isOutput>
        <objectType>df_160_person__c</objectType>
    </variables>
    <variables>
        <description>If the person is single, this indicates whether the person has children</description>
        <name>SingleHasChildren</name>
        <dataType>Boolean</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>true</isOutput>
    </variables>
</Flow>
