<?xml version="1.0" encoding="UTF-8"?>
<Flow xmlns="http://soap.sforce.com/2006/04/metadata">
    <apiVersion>62.0</apiVersion>
    <assignments>
        <name>Assign_CustomerName_from_Business_Account</name>
        <label>Assign CustomerName from Business Account</label>
        <locationX>314</locationX>
        <locationY>1127</locationY>
        <assignmentItems>
            <assignToReference>CustomerName</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Company</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Do_we_have_a_Lead_as_well</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_CustomerName_from_Company_Lead</name>
        <label>Assign CustomerName from Company Lead</label>
        <locationX>1128</locationX>
        <locationY>1343</locationY>
        <assignmentItems>
            <assignToReference>CustomerName</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Company</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Get_Record_Type_from_ID</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_CustomerName_from_FirstName_and_LastName_on_Lead</name>
        <label>Assign CustomerName from FirstName and LastName on Lead</label>
        <locationX>1392</locationX>
        <locationY>1343</locationY>
        <assignmentItems>
            <assignToReference>CustomerName</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>{!CustomerFirstName} {!CustomerLastName}</stringValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Get_Record_Type_from_ID</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_CustomerName_from_PersonAccount</name>
        <label>Assign CustomerName from PersonAccount</label>
        <locationX>50</locationX>
        <locationY>1127</locationY>
        <assignmentItems>
            <assignToReference>CustomerName</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>{!CustomerFirstName} {!CustomerLastName}</stringValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Do_we_have_a_Lead_as_well</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_Danish_Values</name>
        <label>Assign Danish Values</label>
        <locationX>787</locationX>
        <locationY>395</locationY>
        <assignmentItems>
            <assignToReference>PriceBookSearchInheritance</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Din Familiejurist</stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>PriceBookSearchRealEstate</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Private Real Estate</stringValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Which_Related_Record_Do_We_Have</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_Inheritance_Price_Book_to_Variable</name>
        <label>Assign Inheritance Price Book to Variable</label>
        <locationX>1733</locationX>
        <locationY>2543</locationY>
        <assignmentItems>
            <assignToReference>PriceBookId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_Price_Book_Inheritance.Id</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Does_Opportunity_Have_a_Name</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_Irish_Values</name>
        <label>Assign Irish Values</label>
        <locationX>1315</locationX>
        <locationY>395</locationY>
        <assignmentItems>
            <assignToReference>PriceBookSearchInheritance</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Heres Law</stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>PriceBookSearchRealEstate</assignToReference>
            <operator>Assign</operator>
        </assignmentItems>
        <connector>
            <targetReference>Which_Related_Record_Do_We_Have</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_LeadId_to_Opportunity</name>
        <label>Assign LeadId to Opportunity</label>
        <locationX>50</locationX>
        <locationY>1427</locationY>
        <assignmentItems>
            <assignToReference>$Record.Lead__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>LeadId</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <isGoTo>true</isGoTo>
            <targetReference>Get_Lead</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_Opportunity_s_Lead_ID_to_Variable</name>
        <label>Assign Opportunity&apos;s Lead ID to Variable</label>
        <locationX>1106</locationX>
        <locationY>911</locationY>
        <assignmentItems>
            <assignToReference>LeadId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record.Lead__c</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Get_Lead</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_Real_Estate_Price_Book_to_Variable</name>
        <label>Assign Real Estate Price Book to Variable</label>
        <locationX>1205</locationX>
        <locationY>2543</locationY>
        <assignmentItems>
            <assignToReference>PriceBookId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_Price_Book_Real_Estate_Administration.Id</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Does_Opportunity_Have_a_Name</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_Record_Type_to_Opportunity_Variable</name>
        <label>Assign Record Type to Opportunity Variable</label>
        <locationX>677</locationX>
        <locationY>2327</locationY>
        <assignmentItems>
            <assignToReference>$Record.RecordTypeId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>RecordTypeId</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Does_Opportunity_Have_a_Name</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_Swedish_Values</name>
        <label>Assign Swedish Values</label>
        <locationX>1051</locationX>
        <locationY>395</locationY>
        <assignmentItems>
            <assignToReference>PriceBookSearchInheritance</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Famljeavtal</stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>PriceBookSearchRealEstate</assignToReference>
            <operator>Assign</operator>
        </assignmentItems>
        <connector>
            <targetReference>Which_Related_Record_Do_We_Have</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Populate_Custom_Error_with_Flow_Fault_Message</name>
        <label>Populate Custom Error with Flow Fault Message</label>
        <locationX>578</locationX>
        <locationY>1019</locationY>
        <assignmentItems>
            <assignToReference>CustomError</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Flow.FaultMessage</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <isGoTo>true</isGoTo>
            <targetReference>Custom_Error_Message</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Populate_Custom_Error_with_Invalid_Market_Unit</name>
        <label>Populate Custom Error with Invalid Market Unit</label>
        <locationX>1579</locationX>
        <locationY>395</locationY>
        <assignmentItems>
            <assignToReference>CustomError</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Invalid Market Unit: &quot;{!$Record.Market_Unit__c}&quot;</stringValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Custom_Error_Message</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Populate_Custom_Error_with_Invalid_Record_Type</name>
        <label>Populate Custom Error with Invalid Record Type</label>
        <locationX>2437</locationX>
        <locationY>2435</locationY>
        <assignmentItems>
            <assignToReference>CustomError</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Invalid Record Type: &quot;{!$Record.RecordType.Name}&quot;</stringValue>
            </value>
        </assignmentItems>
        <connector>
            <isGoTo>true</isGoTo>
            <targetReference>Custom_Error_Message</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Populate_Custom_Error_with_Missing_Account_Lead_Relation</name>
        <label>Populate Custom Error with Missing Account/Lead Relation</label>
        <locationX>2184</locationX>
        <locationY>911</locationY>
        <assignmentItems>
            <assignToReference>CustomError</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>An Opportunity must be related to either an Account or Lead</stringValue>
            </value>
        </assignmentItems>
        <connector>
            <isGoTo>true</isGoTo>
            <targetReference>Custom_Error_Message</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Populate_Opportunity_Name_with_Category_Default</name>
        <label>Populate Opportunity Name with Category Default</label>
        <locationX>1205</locationX>
        <locationY>3035</locationY>
        <assignmentItems>
            <assignToReference>OpportunityName</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>ptOpportunityCategoryName</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Update_Opportunity</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Populate_Opportunity_Name_with_Default</name>
        <label>Populate Opportunity Name with Default</label>
        <locationX>1469</locationX>
        <locationY>3035</locationY>
        <assignmentItems>
            <assignToReference>OpportunityName</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>ptOpportunityRecordTypeName</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Update_Opportunity</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_Values_Based_for_Event_Booking_Opportunity</name>
        <label>Set Values Based for Event Booking Opportunity</label>
        <locationX>842</locationX>
        <locationY>1943</locationY>
        <assignmentItems>
            <assignToReference>$Record.StageName</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Progressing</stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>$Record.Category__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Event Booking</stringValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Do_We_Have_a_Record_Type_ID</targetReference>
        </connector>
    </assignments>
    <customErrors>
        <name>Custom_Error_Message</name>
        <label>Custom Error Message</label>
        <locationX>1579</locationX>
        <locationY>503</locationY>
        <customErrorMessages>
            <errorMessage>{!CustomError}</errorMessage>
            <isFieldError>false</isFieldError>
        </customErrorMessages>
    </customErrors>
    <decisions>
        <name>Do_We_Have_a_Category</name>
        <label>Do We Have a Category?</label>
        <locationX>1337</locationX>
        <locationY>2927</locationY>
        <defaultConnector>
            <targetReference>Populate_Opportunity_Name_with_Default</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Category_Exists</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.Category__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Populate_Opportunity_Name_with_Category_Default</targetReference>
            </connector>
            <label>Category Exists</label>
        </rules>
    </decisions>
    <decisions>
        <name>Do_We_Have_a_CustomerName_Already</name>
        <label>Do We Have a CustomerName Already?</label>
        <locationX>1106</locationX>
        <locationY>1127</locationY>
        <defaultConnector>
            <targetReference>Is_Lead_a_Company_Lead</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>CustomerName_Exists</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>CustomerName</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Get_Record_Type_from_ID</targetReference>
            </connector>
            <label>CustomerName Exists</label>
        </rules>
    </decisions>
    <decisions>
        <name>Do_we_have_a_Lead_as_well</name>
        <label>Do we have a Lead as well?</label>
        <locationX>182</locationX>
        <locationY>1319</locationY>
        <defaultConnector>
            <targetReference>Do_We_Have_a_Record_Type_ID</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Got_Lead</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>LeadId</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Assign_LeadId_to_Opportunity</targetReference>
            </connector>
            <label>Got Lead</label>
        </rules>
    </decisions>
    <decisions>
        <name>Do_We_Have_a_Record_Type_ID</name>
        <label>Do We Have a Record Type ID?</label>
        <locationX>1183</locationX>
        <locationY>2219</locationY>
        <defaultConnector>
            <targetReference>What_is_the_Record_Type</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Use Opportunity&apos;s Own</defaultConnectorLabel>
        <rules>
            <name>Got_RecordTypeId</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>RecordTypeId</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Assign_Record_Type_to_Opportunity_Variable</targetReference>
            </connector>
            <label>Got RecordTypeId</label>
        </rules>
    </decisions>
    <decisions>
        <description>Default name is formatted as [Category] - [Customer Name]</description>
        <name>Does_Opportunity_Have_a_Name</name>
        <label>Does Opportunity Have a Name?</label>
        <locationX>1183</locationX>
        <locationY>2819</locationY>
        <defaultConnector>
            <targetReference>Do_We_Have_a_Category</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Assign Default Name</defaultConnectorLabel>
        <rules>
            <name>Opportunity_Name_Exists</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.Name</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Update_Opportunity</targetReference>
            </connector>
            <label>Opportunity Name Exists</label>
        </rules>
    </decisions>
    <decisions>
        <name>Is_it_a_PersonAccount</name>
        <label>Is it a PersonAccount?</label>
        <locationX>182</locationX>
        <locationY>1019</locationY>
        <defaultConnector>
            <targetReference>Assign_CustomerName_from_Business_Account</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Not a PersonAccount</defaultConnectorLabel>
        <rules>
            <name>It_s_a_PersonAccount</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>IsPersonAccount</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Assign_CustomerName_from_PersonAccount</targetReference>
            </connector>
            <label>It&apos;s a PersonAccount</label>
        </rules>
    </decisions>
    <decisions>
        <name>Is_Lead_a_Company_Lead</name>
        <label>Is Lead a Company Lead?</label>
        <locationX>1260</locationX>
        <locationY>1235</locationY>
        <defaultConnector>
            <targetReference>Assign_CustomerName_from_FirstName_and_LastName_on_Lead</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Not a Company Lead</defaultConnectorLabel>
        <rules>
            <name>Is_Company_Lead</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Company</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Assign_CustomerName_from_Company_Lead</targetReference>
            </connector>
            <label>Is Company Lead</label>
        </rules>
    </decisions>
    <decisions>
        <name>What_is_the_Lead_s_Record_Type</name>
        <label>What is the Lead&apos;s Record Type?</label>
        <locationX>1106</locationX>
        <locationY>1727</locationY>
        <defaultConnector>
            <targetReference>Do_We_Have_a_Record_Type_ID</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Host_Record_Type_on_Lead</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_Record_Type_from_ID.DeveloperName</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Host</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Get_Record_Type_for_Opportunity</targetReference>
            </connector>
            <label>Host Record Type on Lead</label>
        </rules>
    </decisions>
    <decisions>
        <name>What_is_the_Market_Unit</name>
        <label>What is the Market Unit?</label>
        <locationX>1183</locationX>
        <locationY>287</locationY>
        <defaultConnector>
            <targetReference>Populate_Custom_Error_with_Invalid_Market_Unit</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Invalid Market Unit</defaultConnectorLabel>
        <rules>
            <name>Danish_Market_Unit</name>
            <conditionLogic>or</conditionLogic>
            <conditions>
                <leftValueReference>$Record.Market_Unit__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>DFJ_DK</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Market_Unit__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Testamente_DK</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Assign_Danish_Values</targetReference>
            </connector>
            <label>Danish Market Unit</label>
        </rules>
        <rules>
            <name>Swedish_Market_Unit</name>
            <conditionLogic>or</conditionLogic>
            <conditions>
                <leftValueReference>$Record.Market_Unit__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>FA_SE</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Market_Unit__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Testamente_SV</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Assign_Swedish_Values</targetReference>
            </connector>
            <label>Swedish Market Unit</label>
        </rules>
        <rules>
            <name>Irish_Market_Unit</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.Market_Unit__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Ireland</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Assign_Irish_Values</targetReference>
            </connector>
            <label>Irish Market Unit</label>
        </rules>
    </decisions>
    <decisions>
        <name>What_is_the_Record_Type</name>
        <label>What is the Record Type?</label>
        <locationX>1689</locationX>
        <locationY>2327</locationY>
        <defaultConnector>
            <targetReference>Populate_Custom_Error_with_Invalid_Record_Type</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Customer_Care_Record_Type</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.RecordType.DeveloperName</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Customer_Care</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <isGoTo>true</isGoTo>
                <targetReference>Get_Price_Book_Real_Estate_Administration</targetReference>
            </connector>
            <label>Customer Care Record Type</label>
        </rules>
        <rules>
            <name>Internal_Real_Estate_Administration_Record_Type</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.RecordType.DeveloperName</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Internal_Real_Estate_Administration</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Get_Price_Book_Real_Estate_Administration</targetReference>
            </connector>
            <label>Internal Real Estate Administration Record Type</label>
        </rules>
        <rules>
            <name>Private_Inheritance_Law_Record_Type</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.RecordType.DeveloperName</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Private_Inheritance_Law</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Get_Price_Book_Inheritance</targetReference>
            </connector>
            <label>Private Inheritance Law Record Type</label>
        </rules>
        <rules>
            <name>Event_Booking_Record_Type</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.RecordType.DeveloperName</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Event_Booking</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Does_Opportunity_Have_a_Name</targetReference>
            </connector>
            <label>Event Booking Record Type</label>
        </rules>
    </decisions>
    <decisions>
        <name>Which_Related_Record_Do_We_Have</name>
        <label>Which Related Record Do We Have?</label>
        <locationX>1183</locationX>
        <locationY>803</locationY>
        <defaultConnector>
            <targetReference>Populate_Custom_Error_with_Missing_Account_Lead_Relation</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>We_Have_Account</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.AccountId</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Get_Account</targetReference>
            </connector>
            <label>We Have Account</label>
        </rules>
        <rules>
            <name>We_Have_Lead</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.Lead__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Assign_Opportunity_s_Lead_ID_to_Variable</targetReference>
            </connector>
            <label>We Have Lead</label>
        </rules>
    </decisions>
    <description>Set trigger order to 50, no other changes</description>
    <environments>Default</environments>
    <formulas>
        <name>frmPhone</name>
        <dataType>String</dataType>
        <expression>IF(
  BEGINS(SUBSTITUTE({!Phone},&quot; &quot;,&quot;&quot;), &quot;+&quot;),
  SUBSTITUTE({!Phone},&quot; &quot;,&quot;&quot;),
  IF(
    OR(
      BEGINS(SUBSTITUTE({!Phone},&quot; &quot;,&quot;&quot;), &quot;45&quot;),
      BEGINS(SUBSTITUTE({!Phone},&quot; &quot;,&quot;&quot;), &quot;46&quot;),
      BEGINS(SUBSTITUTE({!Phone},&quot; &quot;,&quot;&quot;), &quot;353&quot;)
    ),
    &quot;+&quot; &amp; SUBSTITUTE({!Phone},&quot; &quot;,&quot;&quot;),
    CASE(
      {!$Record.Market_Unit__c},
      &quot;DFJ_DK&quot;,       &quot;+45&quot;  &amp; SUBSTITUTE({!Phone},&quot; &quot;,&quot;&quot;),
      &quot;Testamente_DK&quot;,&quot;+45&quot;  &amp; SUBSTITUTE({!Phone},&quot; &quot;,&quot;&quot;),
      &quot;FA_SE&quot;,        &quot;+46&quot;  &amp; SUBSTITUTE({!Phone},&quot; &quot;,&quot;&quot;),
      &quot;Ireland&quot;,      &quot;+353&quot; &amp; SUBSTITUTE({!Phone},&quot; &quot;,&quot;&quot;),
      &quot;+&quot; &amp; SUBSTITUTE({!Phone},&quot; &quot;,&quot;&quot;)          /* fallback */
    )
  )
)</expression>
    </formulas>
    <interviewLabel>Before-Save: Opportunity is Created {!$Flow.CurrentDateTime}</interviewLabel>
    <label>Before-Save: Opportunity is Created</label>
    <processMetadataValues>
        <name>BuilderType</name>
        <value>
            <stringValue>LightningFlowBuilder</stringValue>
        </value>
    </processMetadataValues>
    <processMetadataValues>
        <name>CanvasMode</name>
        <value>
            <stringValue>AUTO_LAYOUT_CANVAS</stringValue>
        </value>
    </processMetadataValues>
    <processMetadataValues>
        <name>OriginBuilderType</name>
        <value>
            <stringValue>LightningFlowBuilder</stringValue>
        </value>
    </processMetadataValues>
    <processType>AutoLaunchedFlow</processType>
    <recordLookups>
        <name>Get_Account</name>
        <label>Get Account</label>
        <locationX>182</locationX>
        <locationY>911</locationY>
        <assignNullValuesIfNoRecordsFound>true</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Is_it_a_PersonAccount</targetReference>
        </connector>
        <faultConnector>
            <targetReference>Populate_Custom_Error_with_Flow_Fault_Message</targetReference>
        </faultConnector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>$Record.AccountId</elementReference>
            </value>
        </filters>
        <object>Account</object>
        <outputAssignments>
            <assignToReference>CustomerFirstName</assignToReference>
            <field>FirstName</field>
        </outputAssignments>
        <outputAssignments>
            <assignToReference>AccountId</assignToReference>
            <field>Id</field>
        </outputAssignments>
        <outputAssignments>
            <assignToReference>IsPersonAccount</assignToReference>
            <field>IsPersonAccount</field>
        </outputAssignments>
        <outputAssignments>
            <assignToReference>CustomerLastName</assignToReference>
            <field>LastName</field>
        </outputAssignments>
        <outputAssignments>
            <assignToReference>LeadId</assignToReference>
            <field>Lead__c</field>
        </outputAssignments>
        <outputAssignments>
            <assignToReference>Company</assignToReference>
            <field>Name</field>
        </outputAssignments>
        <outputAssignments>
            <assignToReference>Email</assignToReference>
            <field>PersonEmail</field>
        </outputAssignments>
        <outputAssignments>
            <assignToReference>Phone</assignToReference>
            <field>Phone</field>
        </outputAssignments>
    </recordLookups>
    <recordLookups>
        <name>Get_Lead</name>
        <label>Get Lead</label>
        <locationX>1106</locationX>
        <locationY>1019</locationY>
        <assignNullValuesIfNoRecordsFound>true</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Do_We_Have_a_CustomerName_Already</targetReference>
        </connector>
        <faultConnector>
            <isGoTo>true</isGoTo>
            <targetReference>Populate_Custom_Error_with_Flow_Fault_Message</targetReference>
        </faultConnector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>LeadId</elementReference>
            </value>
        </filters>
        <object>Lead</object>
        <outputAssignments>
            <assignToReference>Company</assignToReference>
            <field>Company</field>
        </outputAssignments>
        <outputAssignments>
            <assignToReference>Email</assignToReference>
            <field>Email</field>
        </outputAssignments>
        <outputAssignments>
            <assignToReference>CustomerFirstName</assignToReference>
            <field>FirstName</field>
        </outputAssignments>
        <outputAssignments>
            <assignToReference>CustomerLastName</assignToReference>
            <field>LastName</field>
        </outputAssignments>
        <outputAssignments>
            <assignToReference>Phone</assignToReference>
            <field>Phone</field>
        </outputAssignments>
        <outputAssignments>
            <assignToReference>LeadRecordTypeId</assignToReference>
            <field>RecordTypeId</field>
        </outputAssignments>
    </recordLookups>
    <recordLookups>
        <name>Get_Price_Book_Inheritance</name>
        <label>Get Price Book (Inheritance)</label>
        <locationX>1733</locationX>
        <locationY>2435</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Assign_Inheritance_Price_Book_to_Variable</targetReference>
        </connector>
        <faultConnector>
            <isGoTo>true</isGoTo>
            <targetReference>Populate_Custom_Error_with_Flow_Fault_Message</targetReference>
        </faultConnector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Name</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>PriceBookSearchInheritance</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>Pricebook2</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_Price_Book_Real_Estate_Administration</name>
        <label>Get Price Book (Real Estate Administration)</label>
        <locationX>1205</locationX>
        <locationY>2435</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Assign_Real_Estate_Price_Book_to_Variable</targetReference>
        </connector>
        <faultConnector>
            <isGoTo>true</isGoTo>
            <targetReference>Populate_Custom_Error_with_Flow_Fault_Message</targetReference>
        </faultConnector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Name</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>PriceBookSearchRealEstate</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>Pricebook2</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_Record_Type_for_Opportunity</name>
        <label>Get Record Type for Opportunity</label>
        <locationX>842</locationX>
        <locationY>1835</locationY>
        <assignNullValuesIfNoRecordsFound>true</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Set_Values_Based_for_Event_Booking_Opportunity</targetReference>
        </connector>
        <faultConnector>
            <isGoTo>true</isGoTo>
            <targetReference>Populate_Custom_Error_with_Flow_Fault_Message</targetReference>
        </faultConnector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>SobjectType</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>Opportunity</stringValue>
            </value>
        </filters>
        <filters>
            <field>IsActive</field>
            <operator>EqualTo</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </filters>
        <filters>
            <field>DeveloperName</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>Event_Booking</stringValue>
            </value>
        </filters>
        <object>RecordType</object>
        <outputAssignments>
            <assignToReference>RecordTypeId</assignToReference>
            <field>Id</field>
        </outputAssignments>
    </recordLookups>
    <recordLookups>
        <name>Get_Record_Type_from_ID</name>
        <label>Get Record Type from ID</label>
        <locationX>1106</locationX>
        <locationY>1619</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>What_is_the_Lead_s_Record_Type</targetReference>
        </connector>
        <faultConnector>
            <isGoTo>true</isGoTo>
            <targetReference>Populate_Custom_Error_with_Flow_Fault_Message</targetReference>
        </faultConnector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>LeadRecordTypeId</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>RecordType</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordUpdates>
        <name>Update_Opportunity</name>
        <label>Update Opportunity</label>
        <locationX>1183</locationX>
        <locationY>3311</locationY>
        <inputAssignments>
            <field>Email__c</field>
            <value>
                <elementReference>Email</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Name</field>
            <value>
                <elementReference>OpportunityName</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Phone__c</field>
            <value>
                <elementReference>frmPhone</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Pricebook2Id</field>
            <value>
                <elementReference>PriceBookId</elementReference>
            </value>
        </inputAssignments>
        <inputReference>$Record</inputReference>
    </recordUpdates>
    <start>
        <locationX>1057</locationX>
        <locationY>0</locationY>
        <connector>
            <targetReference>What_is_the_Market_Unit</targetReference>
        </connector>
        <object>Opportunity</object>
        <recordTriggerType>Create</recordTriggerType>
        <triggerType>RecordBeforeSave</triggerType>
    </start>
    <status>Active</status>
    <textTemplates>
        <name>ptCustomerName</name>
        <isViewedAsPlainText>true</isViewedAsPlainText>
        <text>{!CustomerFirstName} {!CustomerLastName}</text>
    </textTemplates>
    <textTemplates>
        <name>ptOpportunityCategoryName</name>
        <isViewedAsPlainText>true</isViewedAsPlainText>
        <text>{!$Record.Category__c} - {!CustomerName}</text>
    </textTemplates>
    <textTemplates>
        <name>ptOpportunityRecordTypeName</name>
        <isViewedAsPlainText>true</isViewedAsPlainText>
        <text>{!$Record.RecordType.Name} - {!CustomerName}</text>
    </textTemplates>
    <triggerOrder>50</triggerOrder>
    <variables>
        <name>AccountId</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>Company</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>CustomerFirstName</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>CustomerLastName</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>CustomerName</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>CustomError</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>Email</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>IsPersonAccount</name>
        <dataType>Boolean</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <value>
            <booleanValue>false</booleanValue>
        </value>
    </variables>
    <variables>
        <name>LeadId</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>LeadRecordTypeId</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>OpportunityName</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <value>
            <elementReference>$Record.Name</elementReference>
        </value>
    </variables>
    <variables>
        <name>Phone</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>PriceBookId</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>PriceBookSearchInheritance</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>PriceBookSearchRealEstate</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>RecordTypeId</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
</Flow>
