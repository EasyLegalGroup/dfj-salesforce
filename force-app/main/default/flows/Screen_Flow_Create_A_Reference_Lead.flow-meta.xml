<?xml version="1.0" encoding="UTF-8"?>
<Flow xmlns="http://soap.sforce.com/2006/04/metadata">
    <apiVersion>61.0</apiVersion>
    <assignments>
        <name>Assign_Invalid_Object_to_Custom_Error</name>
        <label>Assign Invalid Object to Custom Error</label>
        <locationX>2492</locationX>
        <locationY>242</locationY>
        <assignmentItems>
            <assignToReference>CustomError</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>{!recordId} is not of a valid type. Must start with either 00Q (Lead) or 001 (Account)</stringValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Error_Screen</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_Missing_Lead_on_Account_to_Custom_Error</name>
        <label>Assign Missing Lead on Account to Custom Error</label>
        <locationX>314</locationX>
        <locationY>458</locationY>
        <assignmentItems>
            <assignToReference>CustomError</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Account Must Have a Related Lead to Create a Reference - Contact Your Administrator if You Are in Doubt</stringValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Error_Screen</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_Queue_Name_to_Variable</name>
        <label>Assign Queue Name to Variable</label>
        <locationX>1700</locationX>
        <locationY>674</locationY>
        <assignmentItems>
            <assignToReference>leadOwnerName</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_Lead.Owner:Group.Name</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Screen_5_User_is_Not_Owner</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_User_Id_to_Lead_Owner</name>
        <label>Assign User Id to Lead Owner</label>
        <locationX>1832</locationX>
        <locationY>1190</locationY>
        <assignmentItems>
            <assignToReference>Get_Lead.OwnerId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$User.Id</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Update_Lead_s_Owner</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_User_s_Name_to_Variable</name>
        <label>Assign User&apos;s Name to Variable</label>
        <locationX>1964</locationX>
        <locationY>674</locationY>
        <assignmentItems>
            <assignToReference>leadOwnerName</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>{!Get_Lead.Owner:User.FirstName} {!Get_Lead.Owner:User.LastName}</stringValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Screen_5_User_is_Not_Owner</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_Campaign_s_Campaign_ID</name>
        <label>Set Campaign&apos;s Campaign ID</label>
        <locationX>644</locationX>
        <locationY>998</locationY>
        <assignmentItems>
            <assignToReference>campaignId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_Campaign.Id</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Action_Flow_Create_New_Lead</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_Default_Danish_Campaign_ID</name>
        <label>Set Default Danish Campaign ID</label>
        <locationX>908</locationX>
        <locationY>1106</locationY>
        <assignmentItems>
            <assignToReference>campaignId</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>701W500000Jrqm7IAB</stringValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Action_Flow_Create_New_Lead</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_Default_Swedish_Campaign_ID</name>
        <label>Set Default Swedish Campaign ID</label>
        <locationX>1172</locationX>
        <locationY>1106</locationY>
        <assignmentItems>
            <assignToReference>campaignId</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>701W500000Js4VCIAZ</stringValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Action_Flow_Create_New_Lead</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_Lead_ID_from_Account</name>
        <label>Set Lead ID from Account</label>
        <locationX>50</locationX>
        <locationY>458</locationY>
        <assignmentItems>
            <assignToReference>LeadId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_Account.Lead__c</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <isGoTo>true</isGoTo>
            <targetReference>Set_Lead_ID_from_Record_ID</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_Lead_ID_from_Record_ID</name>
        <label>Set Lead ID from Record ID</label>
        <locationX>1436</locationX>
        <locationY>242</locationY>
        <assignmentItems>
            <assignToReference>LeadId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Get_Lead</targetReference>
        </connector>
    </assignments>
    <decisions>
        <name>Did_Subflow_Succeed</name>
        <label>Did Subflow Succeed?</label>
        <locationX>908</locationX>
        <locationY>1490</locationY>
        <defaultConnector>
            <targetReference>Screen_3_No_Action_Registered</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Subflow Error</defaultConnectorLabel>
        <rules>
            <name>Subflow_Success</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>CustomError</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Did_we_find_a_Duplicate</targetReference>
            </connector>
            <label>Subflow Success</label>
        </rules>
    </decisions>
    <decisions>
        <name>Did_we_find_a_Campaign</name>
        <label>Did we find a Campaign?</label>
        <locationX>908</locationX>
        <locationY>890</locationY>
        <defaultConnector>
            <targetReference>Which_Default_ID_should_we_Assign</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Assign Reference ID</defaultConnectorLabel>
        <rules>
            <name>Campaign_was_Found</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_Campaign</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Set_Campaign_s_Campaign_ID</targetReference>
            </connector>
            <label>Campaign was Found</label>
        </rules>
    </decisions>
    <decisions>
        <name>Did_we_find_a_Duplicate</name>
        <label>Did we find a Duplicate?</label>
        <locationX>710</locationX>
        <locationY>1598</locationY>
        <defaultConnector>
            <targetReference>Screen_2_Duplicate_Detected</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Duplicate Detected</defaultConnectorLabel>
        <rules>
            <name>Duplicate_Exists</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>returnDuplicateChecker</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Screen_2_Success</targetReference>
            </connector>
            <label>No Duplicates</label>
        </rules>
    </decisions>
    <decisions>
        <name>Does_Account_have_a_Lead</name>
        <label>Does Account have a Lead?</label>
        <locationX>182</locationX>
        <locationY>350</locationY>
        <defaultConnector>
            <targetReference>Assign_Missing_Lead_on_Account_to_Custom_Error</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Account_has_Lead</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_Account.Lead__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Set_Lead_ID_from_Account</targetReference>
            </connector>
            <label>Account has Lead</label>
        </rules>
    </decisions>
    <decisions>
        <name>Does_User_Own_the_Lead</name>
        <label>Does User Own the Lead?</label>
        <locationX>1436</locationX>
        <locationY>458</locationY>
        <defaultConnector>
            <targetReference>Who_or_What_Owns_the_Lead</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>User_Owns_Lead</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_Lead.OwnerId</leftValueReference>
                <operator>Contains</operator>
                <rightValue>
                    <elementReference>User_ID_18</elementReference>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Get_Manager</targetReference>
            </connector>
            <label>User Owns Lead</label>
        </rules>
    </decisions>
    <decisions>
        <name>What_is_the_Lead_s_Status</name>
        <label>What is the Lead&apos;s Status?</label>
        <locationX>1964</locationX>
        <locationY>1082</locationY>
        <defaultConnector>
            <targetReference>Screen_6_Cannot_Update_Converted_Lead</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Converted</defaultConnectorLabel>
        <rules>
            <name>Anything_but_Converted</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_Lead.Status</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <stringValue>Converted</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Assign_User_Id_to_Lead_Owner</targetReference>
            </connector>
            <label>Anything but Converted</label>
        </rules>
    </decisions>
    <decisions>
        <name>What_Object_Does_Record_ID_Point_to</name>
        <label>What Object Does Record ID Point to?</label>
        <locationX>1337</locationX>
        <locationY>134</locationY>
        <defaultConnector>
            <targetReference>Assign_Invalid_Object_to_Custom_Error</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Points_to_Account</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>recordId</leftValueReference>
                <operator>StartsWith</operator>
                <rightValue>
                    <stringValue>001</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Get_Account</targetReference>
            </connector>
            <label>Points to Account</label>
        </rules>
        <rules>
            <name>Points_to_Lead</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>recordId</leftValueReference>
                <operator>StartsWith</operator>
                <rightValue>
                    <stringValue>00Q</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Set_Lead_ID_from_Record_ID</targetReference>
            </connector>
            <label>Points to Lead</label>
        </rules>
    </decisions>
    <decisions>
        <name>Which_Default_ID_should_we_Assign</name>
        <label>Which Default ID should we Assign?</label>
        <locationX>1172</locationX>
        <locationY>998</locationY>
        <defaultConnector>
            <isGoTo>true</isGoTo>
            <targetReference>Set_Default_Danish_Campaign_ID</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Assign_Danish_Reference_ID</name>
            <conditionLogic>or</conditionLogic>
            <conditions>
                <leftValueReference>$User.Market_Unit__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>DFJ_DK</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$User.Market_Unit__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Testamente_DK</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Set_Default_Danish_Campaign_ID</targetReference>
            </connector>
            <label>Assign Danish Reference ID</label>
        </rules>
        <rules>
            <name>Assign_Swedish_Reference_ID</name>
            <conditionLogic>or</conditionLogic>
            <conditions>
                <leftValueReference>$User.Market_Unit__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>FA_SE</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$User.Market_Unit__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Testamente_SV</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Set_Default_Swedish_Campaign_ID</targetReference>
            </connector>
            <label>Assign Swedish Reference ID</label>
        </rules>
    </decisions>
    <decisions>
        <name>Who_or_What_Owns_the_Lead</name>
        <label>Who or What Owns the Lead?</label>
        <locationX>1964</locationX>
        <locationY>566</locationY>
        <defaultConnector>
            <targetReference>Screen_4_No_Owner_Detected</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Queue_is_Owner</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_Lead.OwnerId</leftValueReference>
                <operator>StartsWith</operator>
                <rightValue>
                    <stringValue>00G</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Assign_Queue_Name_to_Variable</targetReference>
            </connector>
            <label>Queue is Owner</label>
        </rules>
        <rules>
            <name>User_is_Owner</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_Lead.OwnerId</leftValueReference>
                <operator>StartsWith</operator>
                <rightValue>
                    <stringValue>005</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Assign_User_s_Name_to_Variable</targetReference>
            </connector>
            <label>User is Owner</label>
        </rules>
    </decisions>
    <environments>Default</environments>
    <formulas>
        <name>User_ID_18</name>
        <dataType>String</dataType>
        <expression>CASESAFEID({!$User.Id})</expression>
    </formulas>
    <interviewLabel>Screen Flow: Create A Reference Lead {!$Flow.CurrentDateTime}</interviewLabel>
    <label>Screen Flow: Create A Reference Lead</label>
    <processMetadataValues>
        <name>BuilderType</name>
        <value>
            <stringValue>LightningFlowBuilder</stringValue>
        </value>
    </processMetadataValues>
    <processMetadataValues>
        <name>CanvasMode</name>
        <value>
            <stringValue>AUTO_LAYOUT_CANVAS</stringValue>
        </value>
    </processMetadataValues>
    <processMetadataValues>
        <name>OriginBuilderType</name>
        <value>
            <stringValue>LightningFlowBuilder</stringValue>
        </value>
    </processMetadataValues>
    <processType>Flow</processType>
    <recordLookups>
        <name>Get_Account</name>
        <label>Get Account</label>
        <locationX>182</locationX>
        <locationY>242</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Does_Account_have_a_Lead</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>Account</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <description>The record type id &quot;012W5000001mHIvIAM&quot; is for the Campaign Record Type &quot;User Created Leads Campaign&quot;</description>
        <name>Get_Campaign</name>
        <label>Get Campaign</label>
        <locationX>908</locationX>
        <locationY>782</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Did_we_find_a_Campaign</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>RecordTypeId</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>012W5000001mHIvIAM</stringValue>
            </value>
        </filters>
        <filters>
            <field>Market_Unit__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>$User.Market_Unit__c</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>Campaign</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_Lead</name>
        <label>Get Lead</label>
        <locationX>1436</locationX>
        <locationY>350</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Does_User_Own_the_Lead</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>Lead</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_Manager</name>
        <label>Get Manager</label>
        <locationX>908</locationX>
        <locationY>566</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Screen_1_Enter_Information</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>$User.ManagerId</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>User</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordUpdates>
        <description>Running User takes ownership of the Lead</description>
        <name>Update_Lead_s_Owner</name>
        <label>Update Lead&apos;s Owner</label>
        <locationX>1832</locationX>
        <locationY>1298</locationY>
        <connector>
            <isGoTo>true</isGoTo>
            <targetReference>Get_Lead</targetReference>
        </connector>
        <inputReference>Get_Lead</inputReference>
    </recordUpdates>
    <screens>
        <name>Error_Screen</name>
        <label>Error Screen</label>
        <locationX>1337</locationX>
        <locationY>2258</locationY>
        <allowBack>false</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <fields>
            <name>displayCustomError</name>
            <fieldText>&lt;p style=&quot;text-align: center;&quot;&gt;&lt;strong style=&quot;color: rgb(255, 0, 0);&quot;&gt;{!CustomError}&lt;/strong&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>false</showHeader>
    </screens>
    <screens>
        <name>Screen_1_Enter_Information</name>
        <label>Screen 1 - Enter Information</label>
        <locationX>908</locationX>
        <locationY>674</locationY>
        <allowBack>false</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <connector>
            <targetReference>Get_Campaign</targetReference>
        </connector>
        <fields>
            <name>headerScreen1</name>
            <fieldText>&lt;p&gt;&lt;strong style=&quot;font-size: 16px;&quot;&gt;Create a Reference Lead&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;Fill out the below fields, to create a Reference Lead&lt;/span&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <fields>
            <name>Screen_1_Enter_Information_Section1</name>
            <fieldType>RegionContainer</fieldType>
            <fields>
                <name>Screen_1_Enter_Information_Section1_Column1</name>
                <fieldType>Region</fieldType>
                <fields>
                    <name>inputFirstName</name>
                    <dataType>String</dataType>
                    <fieldText>First Name</fieldText>
                    <fieldType>InputField</fieldType>
                    <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
                    <isRequired>true</isRequired>
                </fields>
                <inputParameters>
                    <name>width</name>
                    <value>
                        <stringValue>6</stringValue>
                    </value>
                </inputParameters>
                <isRequired>false</isRequired>
            </fields>
            <fields>
                <name>Screen_1_Enter_Information_Section1_Column2</name>
                <fieldType>Region</fieldType>
                <fields>
                    <name>inputLastName</name>
                    <dataType>String</dataType>
                    <fieldText>Last Name</fieldText>
                    <fieldType>InputField</fieldType>
                    <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
                    <isRequired>true</isRequired>
                </fields>
                <inputParameters>
                    <name>width</name>
                    <value>
                        <stringValue>6</stringValue>
                    </value>
                </inputParameters>
                <isRequired>false</isRequired>
            </fields>
            <isRequired>false</isRequired>
            <regionContainerType>SectionWithoutHeader</regionContainerType>
        </fields>
        <fields>
            <name>Screen_1_Enter_Information_Section2</name>
            <fieldType>RegionContainer</fieldType>
            <fields>
                <name>Screen_1_Enter_Information_Section2_Column1</name>
                <fieldType>Region</fieldType>
                <fields>
                    <name>inputEmail</name>
                    <dataType>String</dataType>
                    <fieldText>Email</fieldText>
                    <fieldType>InputField</fieldType>
                    <helpText>&lt;p&gt;If you have it available, please fill in the email as well.&lt;/p&gt;</helpText>
                    <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
                    <isRequired>false</isRequired>
                </fields>
                <inputParameters>
                    <name>width</name>
                    <value>
                        <stringValue>6</stringValue>
                    </value>
                </inputParameters>
                <isRequired>false</isRequired>
            </fields>
            <fields>
                <name>Screen_1_Enter_Information_Section2_Column2</name>
                <fieldType>Region</fieldType>
                <fields>
                    <name>inputPhoneNumber</name>
                    <dataType>String</dataType>
                    <fieldText>Phone Number</fieldText>
                    <fieldType>InputField</fieldType>
                    <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
                    <isRequired>true</isRequired>
                </fields>
                <inputParameters>
                    <name>width</name>
                    <value>
                        <stringValue>6</stringValue>
                    </value>
                </inputParameters>
                <isRequired>false</isRequired>
            </fields>
            <isRequired>false</isRequired>
            <regionContainerType>SectionWithoutHeader</regionContainerType>
        </fields>
        <nextOrFinishButtonLabel>Create Reference Lead</nextOrFinishButtonLabel>
        <showFooter>true</showFooter>
        <showHeader>false</showHeader>
    </screens>
    <screens>
        <name>Screen_2_Duplicate_Detected</name>
        <label>Screen 2 - Duplicate Detected</label>
        <locationX>842</locationX>
        <locationY>1706</locationY>
        <allowBack>false</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <fields>
            <name>headerDuplicateDetected</name>
            <fieldText>&lt;p style=&quot;text-align: center;&quot;&gt;&lt;strong style=&quot;font-size: 20px; color: rgb(255, 0, 0);&quot;&gt;Duplicate Found&lt;/strong&gt;&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;strong&gt;While trying to create your Reference Lead, we found a duplicate.&lt;/strong&gt;&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;strong&gt;Your reference Lead has &lt;em&gt;not&lt;/em&gt; been created.&lt;/strong&gt;&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;strong&gt;Information:&lt;/strong&gt;&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;strong&gt;Owner:&lt;/strong&gt; {!returnExistingLeadOwner}&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;strong&gt;Duplicate Lead Status:&lt;/strong&gt; {!returnExistingLeadStatus}&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;a href=&quot;https://dfj.lightning.force.com/lightning/r/{!returnExistingLeadId}/view&quot; rel=&quot;noopener noreferrer&quot; target=&quot;_blank&quot;&gt;Link to Duplicate&lt;/a&gt;&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;em&gt;(You are most likely not able to see the Duplicate Lead, but you can forward the link to your manager, and he will help you)&lt;/em&gt;&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;strong&gt;Link:&lt;/strong&gt; https://dfj.lightning.force.com/lightning/r/{!returnExistingLeadId}/view&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>false</showHeader>
    </screens>
    <screens>
        <name>Screen_2_Success</name>
        <label>Screen 2 - Success</label>
        <locationX>578</locationX>
        <locationY>1706</locationY>
        <allowBack>false</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <fields>
            <name>headerScreen2Success</name>
            <fieldText>&lt;p style=&quot;text-align: center;&quot;&gt;&lt;strong style=&quot;font-size: 20px; color: rgb(0, 137, 13);&quot;&gt;Success&lt;/strong&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <fields>
            <name>displaySuccessMessage</name>
            <fieldText>&lt;p style=&quot;text-align: center;&quot;&gt;&lt;strong&gt;The Reference Lead was created successfully&lt;/strong&gt;&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;a href=&quot;https://dfj.lightning.force.com/lightning/r/{!returnCreatedLead.Id}/view&quot; rel=&quot;noopener noreferrer&quot; target=&quot;_blank&quot;&gt;Link to newly created Reference Lead&lt;/a&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>false</showHeader>
    </screens>
    <screens>
        <name>Screen_3_No_Action_Registered</name>
        <label>Screen 3 - No Action Registered</label>
        <locationX>1106</locationX>
        <locationY>1598</locationY>
        <allowBack>true</allowBack>
        <allowFinish>false</allowFinish>
        <allowPause>false</allowPause>
        <backButtonLabel>Go back</backButtonLabel>
        <fields>
            <name>displayActionNotRegistered</name>
            <fieldText>&lt;p style=&quot;text-align: center;&quot;&gt;&lt;strong style=&quot;font-size: 14px; color: rgb(255, 0, 0);&quot;&gt;{!CustomError}&lt;/strong&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>false</showHeader>
    </screens>
    <screens>
        <name>Screen_4_No_Owner_Detected</name>
        <label>Screen 4 - No Owner Detected</label>
        <locationX>2228</locationX>
        <locationY>674</locationY>
        <allowBack>false</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <fields>
            <name>displayCannotFindOwner</name>
            <fieldText>&lt;p style=&quot;text-align: center;&quot;&gt;&lt;strong style=&quot;color: rgb(255, 0, 0);&quot;&gt;Can&apos;t figure out who or what owns the lead...&lt;/strong&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>false</showHeader>
    </screens>
    <screens>
        <name>Screen_5_User_is_Not_Owner</name>
        <label>Screen 5 - User is Not Owner</label>
        <locationX>1964</locationX>
        <locationY>974</locationY>
        <allowBack>false</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <connector>
            <targetReference>What_is_the_Lead_s_Status</targetReference>
        </connector>
        <fields>
            <name>headerErrorScreen</name>
            <fieldText>&lt;p&gt;&lt;strong style=&quot;color: rgb(0, 0, 0);&quot;&gt;You are not currently the owner of this Lead&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;The Lead is owned by:&lt;/strong&gt; {!leadOwnerName}&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;Click below to proceed...&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <nextOrFinishButtonLabel>Claim Ownership of Lead</nextOrFinishButtonLabel>
        <showFooter>true</showFooter>
        <showHeader>false</showHeader>
    </screens>
    <screens>
        <name>Screen_6_Cannot_Update_Converted_Lead</name>
        <label>Screen 6 - Cannot Update Converted Lead</label>
        <locationX>2096</locationX>
        <locationY>1190</locationY>
        <allowBack>false</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <fields>
            <name>displayLeadIsConvertedError</name>
            <fieldText>&lt;p style=&quot;text-align: center;&quot;&gt;&lt;strong style=&quot;font-size: 16px; color: rgb(255, 0, 0);&quot;&gt;The Lead is Converted&lt;/strong&gt;&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;span style=&quot;font-size: 12px; color: rgb(0, 0, 0);&quot;&gt;You cannot take ownership of a Converted Lead. &lt;/span&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>false</showHeader>
    </screens>
    <start>
        <locationX>1211</locationX>
        <locationY>0</locationY>
        <connector>
            <targetReference>What_Object_Does_Record_ID_Point_to</targetReference>
        </connector>
    </start>
    <status>Active</status>
    <subflows>
        <name>Action_Flow_Create_New_Lead</name>
        <label>Action Flow: Create New Lead</label>
        <locationX>908</locationX>
        <locationY>1382</locationY>
        <connector>
            <targetReference>Did_Subflow_Succeed</targetReference>
        </connector>
        <flowName>Action_Flow_Create_New_Lead</flowName>
        <inputAssignments>
            <name>inputCampaignId</name>
            <value>
                <elementReference>campaignId</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>inputEmail</name>
            <value>
                <elementReference>inputEmail</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>inputFirstName</name>
            <value>
                <elementReference>inputFirstName</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>inputLastName</name>
            <value>
                <elementReference>inputLastName</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>inputLeadSource</name>
            <value>
                <stringValue>Reference</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>inputMarketUnit</name>
            <value>
                <elementReference>Get_Lead.Market_Unit__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>inputOwnerId</name>
            <value>
                <elementReference>$User.Id</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>inputPhone</name>
            <value>
                <elementReference>inputPhoneNumber</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>inputReferringLeadRecord</name>
            <value>
                <elementReference>Get_Lead</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>UTM_Medium</name>
            <value>
                <stringValue>Salesforce Screen Flow</stringValue>
            </value>
        </inputAssignments>
        <outputAssignments>
            <assignToReference>returnDuplicateChecker</assignToReference>
            <name>outputDuplicateChecker</name>
        </outputAssignments>
        <outputAssignments>
            <assignToReference>CustomError</assignToReference>
            <name>outputErrorMessage</name>
        </outputAssignments>
        <outputAssignments>
            <assignToReference>returnExistingLeadId</assignToReference>
            <name>outputExistingLeadId</name>
        </outputAssignments>
        <outputAssignments>
            <assignToReference>returnExistingLeadStatus</assignToReference>
            <name>outputExistingLeadStatus</name>
        </outputAssignments>
        <outputAssignments>
            <assignToReference>returnExistingLeadOwner</assignToReference>
            <name>outputExistingOwner</name>
        </outputAssignments>
        <outputAssignments>
            <assignToReference>returnExistingOwnerStatus</assignToReference>
            <name>outputExistingOwnerStatus</name>
        </outputAssignments>
        <outputAssignments>
            <assignToReference>returnCreatedLead</assignToReference>
            <name>OutputLeadRecord</name>
        </outputAssignments>
    </subflows>
    <variables>
        <name>campaignId</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>CustomError</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>LeadId</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>leadOwnerName</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>recordId</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>returnCreatedLead</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>Lead</objectType>
    </variables>
    <variables>
        <name>returnDuplicateChecker</name>
        <dataType>Boolean</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <value>
            <booleanValue>false</booleanValue>
        </value>
    </variables>
    <variables>
        <name>returnExistingLeadId</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>returnExistingLeadOwner</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>returnExistingLeadStatus</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>returnExistingOwnerStatus</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>varSuccess</name>
        <dataType>Boolean</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <value>
            <booleanValue>false</booleanValue>
        </value>
    </variables>
</Flow>
